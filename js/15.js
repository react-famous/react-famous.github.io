webpackJsonp([15],{189:function(t,e,n){n(2);!function(){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=e(n(38)),a=e(n(286)),u=e(n(287)),c=e(n(288)),p=e(n(270)),l=e(n(2)),h=e(n(75)),f=e(n(76)),d=e(n(77)),v=e(n(290)),g=["rgba(255, 0, 0, .7)","rgba(0, 255, 0, .7)","rgba(0, 0, 255, .7)","rgba(255, 0, 0, .7)","rgba(0, 255, 0, .7)","rgba(0, 0, 255, .7)","rgba(255, 0, 0, .7)","rgba(0, 255, 0, .7)"],y=[1,!0,1,!0,1,!0,1,!0],_=[4,!0,1,!0,0,!0,7,!0];a.register({mouse:u,touch:c});var m=function(t){var e=function(){r(this,e),null!=t&&t.apply(this,arguments)};return o(e,t),i(e,{componentDidMount:{value:function(){var t=this.refs.clickSurface.getFamous(),e=this.refs.flexibleLayout.getFamous(),n=new a({mouse:{},touch:{}}),i=!1;n.on("end",function(){var t=i?y:_;e.setRatios(t,{curve:"easeOut",duration:500}),i=!i}),t.pipe(n)}},render:{value:function(){var t=p(g.length).map(function(t){var e={properties:{backgroundColor:g[t]},size:t%2===0?[void 0,void 0]:[10,void 0]};return l.createElement(d,{key:t,options:e})});return l.createElement(h,null,l.createElement(f,{options:{align:[.5,.5],origin:[.5,.5]}},l.createElement(v,{ref:"flexibleLayout",options:{ratios:y}},t)),l.createElement(f,{options:{transform:s.inFront}},l.createElement(d,{ref:"clickSurface"})))}}}),e}(l.Component);t.exports=m}()},270:function(t,e,n){function i(t,e,n){n&&o(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,a=s(r((e-t)/(n||1)),0),u=Array(a);++i<a;)u[i]=t,t+=n;return u}var o=n(337),r=Math.ceil,s=Math.max;t.exports=i},286:function(t,e,n){function i(t,e){this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),e&&this.setOptions(e)}function o(t,e){s[t]&&(this._syncs[t]=new s[t](e),this.pipeSync(t))}var r=n(208);i.DIRECTION_X=0,i.DIRECTION_Y=1,i.DIRECTION_Z=2;var s={};i.register=function(t){for(var e in t)if(s[e]){if(s[e]!==t[e])throw new Error("Conflicting sync classes for key: "+e)}else s[e]=t[e]},i.prototype.setOptions=function(t){for(var e in this._syncs)this._syncs[e].setOptions(t)},i.prototype.pipeSync=function(t){var e=this._syncs[t];this._eventInput.pipe(e),e.pipe(this._eventOutput)},i.prototype.unpipeSync=function(t){var e=this._syncs[t];this._eventInput.unpipe(e),e.unpipe(this._eventOutput)},i.prototype.addSync=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)o.call(this,t[e]);else if(t instanceof Object)for(var n in t)o.call(this,n,t[n])},t.exports=i},287:function(t,e,n){function i(t){this.options=Object.create(i.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._eventInput=new u,this._eventOutput=new u,u.setInputHandler(this,this._eventInput),u.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",o.bind(this)),this._eventInput.on("mousemove",r.bind(this)),this._eventInput.on("mouseup",s.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",a.bind(this)):this._eventInput.on("mouseleave",s.bind(this)),this.options.clickThreshold&&window.addEventListener("click",function(t){Math.sqrt(Math.pow(this._displacement[0],2)+Math.pow(this._displacement[1],2))>this.options.clickThreshold&&t.stopPropagation()}.bind(this),!0),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._positionHistory=[],this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1,this._displacement=[0,0],this._documentActive=!1}function o(t){var e,n;this.options.preventDefault&&t.preventDefault();var i=t.clientX,o=t.clientY;this._prevCoord=[i,o],this._prevTime=Date.now(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,e=0,n=0):(this._position=[0,0],e=[0,0],n=[0,0]),this.options.clickThreshold&&(this._displacement=[0,0]);var r=this._payload;r.delta=e,r.position=this._position,r.velocity=n,r.clientX=i,r.clientY=o,r.offsetX=t.offsetX,r.offsetY=t.offsetY,this._positionHistory.push({position:r.position.slice?r.position.slice(0):r.position,time:this._prevTime}),this._eventOutput.emit("start",r),this._documentActive=!1}function r(t){if(this._prevCoord){var e=this._prevCoord,n=(this._prevTime,t.clientX),o=t.clientY,r=Date.now(),s=n-e[0],a=o-e[1];this.options.rails&&(Math.abs(s)>Math.abs(a)?a=0:s=0);var u,c,l=Math.max(r-this._positionHistory[0].time,p),h=this.options.scale;this.options.direction===i.DIRECTION_X?(c=h*s,this._position+=c,u=h*(this._position-this._positionHistory[0].position)/l):this.options.direction===i.DIRECTION_Y?(c=h*a,this._position+=c,u=h*(this._position-this._positionHistory[0].position)/l):(c=[h*s,h*a],u=[h*(this._position[0]-this._positionHistory[0].position[0])/l,h*(this._position[1]-this._positionHistory[0].position[1])/l],this._position[0]+=c[0],this._position[1]+=c[1]),this.options.clickThreshold!==!1&&(this._displacement[0]+=s,this._displacement[1]+=a);var f=this._payload;f.delta=c,f.position=this._position,f.velocity=u,f.clientX=n,f.clientY=o,f.offsetX=t.offsetX,f.offsetY=t.offsetY,this._positionHistory.length===this.options.velocitySampleLength&&this._positionHistory.shift(),this._positionHistory.push({position:f.position.slice?f.position.slice(0):f.position,time:r}),this._eventOutput.emit("update",f),this._prevCoord=[n,o],this._prevTime=r,this._move=!0}}function s(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1,this._positionHistory=[])}function a(t){if(this._down&&this._move&&!this._documentActive){var e=r.bind(this),n=function(t){s.call(this,t),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}.bind(this,t);document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),this._documentActive=!0}}var u=n(208),c=n(209);i.DEFAULT_OPTIONS={clickThreshold:void 0,direction:void 0,rails:!1,scale:1,propogate:!0,velocitySampleLength:10,preventDefault:!0},i.DIRECTION_X=0,i.DIRECTION_Y=1;var p=8;i.prototype.getOptions=function(){return this.options},i.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},t.exports=i},288:function(t,e,n){function i(t){this.options=Object.create(i.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._eventOutput=new u,this._touchTracker=new a({touchLimit:this.options.touchLimit}),u.setOutputHandler(this,this._eventOutput),u.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",o.bind(this)),this._touchTracker.on("trackmove",r.bind(this)),this._touchTracker.on("trackend",s.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function o(t){var e,n;void 0!==this.options.direction?(this._position=0,e=0,n=0):(this._position=[0,0],e=[0,0],n=[0,0]);var i=this._payload;i.delta=n,i.position=this._position,i.velocity=e,i.clientX=t.x,i.clientY=t.y,i.count=t.count,i.touch=t.identifier,this._eventOutput.emit("start",i)}function r(t){var e=t.history,n=e[e.length-1],o=e[e.length-2],r=e[e.length-this.options.velocitySampleLength]?e[e.length-this.options.velocitySampleLength]:e[e.length-2],s=r.timestamp,a=n.timestamp,u=n.x-o.x,c=n.y-o.y,l=n.x-r.x,h=n.y-r.y;this.options.rails&&(Math.abs(u)>Math.abs(c)?c=0:u=0,Math.abs(l)>Math.abs(h)?h=0:l=0);var f,d,v=Math.max(a-s,p),g=l/v,y=h/v,_=this.options.scale;this.options.direction===i.DIRECTION_X?(d=_*u,f=_*g,this._position+=d):this.options.direction===i.DIRECTION_Y?(d=_*c,f=_*y,this._position+=d):(d=[_*u,_*c],f=[_*g,_*y],this._position[0]+=d[0],this._position[1]+=d[1]);var m=this._payload;m.delta=d,m.velocity=f,m.position=this._position,m.clientX=t.x,m.clientY=t.y,m.count=t.count,m.touch=t.identifier,this._eventOutput.emit("update",m)}function s(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var a=n(348),u=n(208),c=n(209);i.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},i.DIRECTION_X=0,i.DIRECTION_Y=1;var p=8;i.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},i.prototype.getOptions=function(){return this.options},t.exports=i},290:function(t,e,n){n(2);!function(){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=e(n(254)),a=e(n(352)),u=e(n(147)),c=e(n(2)),p=e(n(151)),l=function(t){function e(){r(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,{famousCreate:{value:function(){return new a(this.props.options)}},famousCreateNode:{value:function(t){var e=this.getFamous(),n=t.add(e),i=[],o=this.getFamousChildrenRef().map(function(t){var e=new s;return i.push([t,e]),e});return e.sequenceFrom(o),[n,i]}},famousUpdate:{value:function(t){var e=this.getFamous();e.setOptions(t.options)}},render:{value:function(){return c.createElement("div",{"data-famous":"FlexibleLayout"},this.getFamousChildren())}}}),e}(p);u(l,a),t.exports=l}()},348:function(t,e,n){function i(t,e,n){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:e.origin,timestamp:p(),count:e.touches.length,history:n}}function o(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=i(n,t,null);this.eventOutput.emit("trackstart",o),this.selective||this.touchHistory[n.identifier]||this.track(o)}}}function r(t){if(!(t.touches.length>this.touchLimit))for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=this.touchHistory[n.identifier];if(o){var r=i(n,t,o);this.touchHistory[n.identifier].push(r),this.eventOutput.emit("trackmove",r)}}}function s(t){if(this.isTouched){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=this.touchHistory[n.identifier];if(o){var r=i(n,t,o);this.eventOutput.emit("trackend",r),delete this.touchHistory[n.identifier]}}this.isTouched=!1}}function a(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}function u(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new c,this.eventOutput=new c,c.setInputHandler(this,this.eventInput),c.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",o.bind(this)),this.eventInput.on("touchmove",r.bind(this)),this.eventInput.on("touchend",s.bind(this)),this.eventInput.on("touchcancel",s.bind(this)),this.eventInput.on("unpipe",a.bind(this)),this.isTouched=!1}var c=n(208),p=Date.now;u.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},t.exports=u},352:function(t,e,n){function i(t){this.options=Object.create(i.DEFAULT_OPTIONS),this.optionsManager=new u(this.options),t&&this.setOptions(t),this.id=s.register(this),this._ratios=new p(this.options.ratios),this._nodes=[],this._size=[0,0],this._cachedDirection=null,this._cachedLengths=[],this._cachedTransforms=null,this._ratiosDirty=!1,this._eventOutput=new c,c.setOutputHandler(this,this._eventOutput)}function o(t,e,n){var o,r,s,u,c=0,p=e,l=0;for(this._cachedLengths=[],this._cachedTransforms=[],u=0;u<t.length;u++)r=t[u],s=this._nodes[u],"number"!=typeof r?p-=s.getSize()[n]||0:l+=r;for(u=0;u<t.length;u++)s=this._nodes[u],r=t[u],e="number"==typeof r?p*r/l:s.getSize()[n],o=n===i.DIRECTION_X?a.translate(c,0,0):a.translate(0,c,0),this._cachedTransforms.push(o),this._cachedLengths.push(e),c+=e}function r(t,e){for(var n=0;n<t.length;n++)if("number"!=typeof t[n]&&this._nodes[n].getSize()[e]!==this._cachedLengths[n])return!0;return!1}var s=n(321),a=n(38),u=n(209),c=n(208),p=n(256);i.DIRECTION_X=0,i.DIRECTION_Y=1,i.DEFAULT_OPTIONS={direction:i.DIRECTION_X,transition:!1,ratios:[]},i.prototype.render=function(){return this.id},i.prototype.setOptions=function(t){this.optionsManager.setOptions(t)},i.prototype.sequenceFrom=function(t){if(this._nodes=t,0===this._ratios.get().length){for(var e=[],n=0;n<this._nodes.length;n++)e.push(1);this.setRatios(e)}},i.prototype.setRatios=function(t,e,n){void 0===e&&(e=this.options.transition);var i=this._ratios;0===i.get().length&&(e=void 0),i.isActive()&&i.halt(),i.set(t,e,n),this._ratiosDirty=!0},i.prototype.getSize=function(){return this._size},i.prototype.commit=function(t){var e,n=t.size,i=t.transform,s=t.origin,u=t.opacity,c=this._ratios.get(),p=this.options.direction,l=n[p];(l!==this._size[p]||this._ratiosDirty||this._ratios.isActive()||p!==this._cachedDirection||r.call(this,c,p))&&(o.call(this,c,l,p),l!==this._size[p]&&(this._size[0]=n[0],this._size[1]=n[1]),p!==this._cachedDirection&&(this._cachedDirection=p),this._ratiosDirty&&(this._ratiosDirty=!1));for(var h=[],f=0;f<c.length;f++)e=[void 0,void 0],l=this._cachedLengths[f],e[p]=l,h.push({transform:this._cachedTransforms[f],size:e,target:this._nodes[f].render()});return n&&0!==s[0]&&0!==s[1]&&(i=a.moveThen([-n[0]*s[0],-n[1]*s[1],0],i)),{transform:i,size:n,opacity:u,target:h}},t.exports=i}});