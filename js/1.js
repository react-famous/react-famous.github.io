webpackJsonp([1],{161:function(t,e,n){n(2);!function(){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=e(n(2)),s=e(n(75)),u=e(n(76)),c=e(n(77)),l=e(n(268)),p=function(t){var e=function(){i(this,e),null!=t&&t.apply(this,arguments)};return o(e,t),r(e,{componentDidMount:{value:function(){var t=this.refs.draggable.getFamous(),e=this.refs.surface.getFamous();t.subscribe(e)}},render:{value:function(){var t={snapX:40,snapY:40,xRange:[-220,220],yRange:[-220,220]},e={size:[481,481],properties:{backgroundColor:"black",backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.25) 1px, transparent 1px), linear-gradient(white 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.25) 1px, transparent 1px), linear-gradient(90deg, white 1px, transparent 1px), linear-gradient(transparent 3px, black 3px, black 238px, transparent 238px), linear-gradient(90deg, white 3px, transparent 3px, transparent 238px, white 238px)",backgroundSize:"40px 40px, 240px 240px, 40px 40px, 240px 240px, 240px 240px, 240px 240px"}},n={size:[40,40],content:"drag",properties:{backgroundColor:"red",color:"white",cursor:"pointer",lineHeight:"40px",textAlign:"center"}};return a.createElement(s,null,a.createElement(u,{options:{align:[.5,.5],origin:[.5,.5]}},a.createElement(c,{options:e}),a.createElement(l,{ref:"draggable",options:t},a.createElement(c,{ref:"surface",options:n}))))}}}),e}(a.Component);t.exports=p}()},268:function(t,e,n){n(2);!function(){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=e(n(335)),s=e(n(147)),u=e(n(2)),c=e(n(151)),l=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{famousCreate:{value:function(){return new a(this.props.options)}},famousCreateNode:{value:function(t){var e=this.getFamous(),n=t.add(e),r=this.getFamousChildrenRef().map(function(t){return[t,n]});return[n,r]}},famousUpdate:{value:function(t){var e=this.getFamous();e.setOptions(t.options)}},render:{value:function(){return u.createElement("div",{"data-famous":"Draggable"},this.getFamousChildren())}}}),e}(c);s(l,a),t.exports=l}()},286:function(t,e,n){function r(t,e){this._eventInput=new i,this._eventOutput=new i,i.setInputHandler(this,this._eventInput),i.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),e&&this.setOptions(e)}function o(t,e){a[t]&&(this._syncs[t]=new a[t](e),this.pipeSync(t))}var i=n(208);r.DIRECTION_X=0,r.DIRECTION_Y=1,r.DIRECTION_Z=2;var a={};r.register=function(t){for(var e in t)if(a[e]){if(a[e]!==t[e])throw new Error("Conflicting sync classes for key: "+e)}else a[e]=t[e]},r.prototype.setOptions=function(t){for(var e in this._syncs)this._syncs[e].setOptions(t)},r.prototype.pipeSync=function(t){var e=this._syncs[t];this._eventInput.pipe(e),e.pipe(this._eventOutput)},r.prototype.unpipeSync=function(t){var e=this._syncs[t];this._eventInput.unpipe(e),e.unpipe(this._eventOutput)},r.prototype.addSync=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)o.call(this,t[e]);else if(t instanceof Object)for(var n in t)o.call(this,n,t[n])},t.exports=r},287:function(t,e,n){function r(t){this.options=Object.create(r.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._eventInput=new u,this._eventOutput=new u,u.setInputHandler(this,this._eventInput),u.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",o.bind(this)),this._eventInput.on("mousemove",i.bind(this)),this._eventInput.on("mouseup",a.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",s.bind(this)):this._eventInput.on("mouseleave",a.bind(this)),this.options.clickThreshold&&window.addEventListener("click",function(t){Math.sqrt(Math.pow(this._displacement[0],2)+Math.pow(this._displacement[1],2))>this.options.clickThreshold&&t.stopPropagation()}.bind(this),!0),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._positionHistory=[],this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1,this._displacement=[0,0],this._documentActive=!1}function o(t){var e,n;this.options.preventDefault&&t.preventDefault();var r=t.clientX,o=t.clientY;this._prevCoord=[r,o],this._prevTime=Date.now(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,e=0,n=0):(this._position=[0,0],e=[0,0],n=[0,0]),this.options.clickThreshold&&(this._displacement=[0,0]);var i=this._payload;i.delta=e,i.position=this._position,i.velocity=n,i.clientX=r,i.clientY=o,i.offsetX=t.offsetX,i.offsetY=t.offsetY,this._positionHistory.push({position:i.position.slice?i.position.slice(0):i.position,time:this._prevTime}),this._eventOutput.emit("start",i),this._documentActive=!1}function i(t){if(this._prevCoord){var e=this._prevCoord,n=(this._prevTime,t.clientX),o=t.clientY,i=Date.now(),a=n-e[0],s=o-e[1];this.options.rails&&(Math.abs(a)>Math.abs(s)?s=0:a=0);var u,c,p=Math.max(i-this._positionHistory[0].time,l),f=this.options.scale;this.options.direction===r.DIRECTION_X?(c=f*a,this._position+=c,u=f*(this._position-this._positionHistory[0].position)/p):this.options.direction===r.DIRECTION_Y?(c=f*s,this._position+=c,u=f*(this._position-this._positionHistory[0].position)/p):(c=[f*a,f*s],u=[f*(this._position[0]-this._positionHistory[0].position[0])/p,f*(this._position[1]-this._positionHistory[0].position[1])/p],this._position[0]+=c[0],this._position[1]+=c[1]),this.options.clickThreshold!==!1&&(this._displacement[0]+=a,this._displacement[1]+=s);var h=this._payload;h.delta=c,h.position=this._position,h.velocity=u,h.clientX=n,h.clientY=o,h.offsetX=t.offsetX,h.offsetY=t.offsetY,this._positionHistory.length===this.options.velocitySampleLength&&this._positionHistory.shift(),this._positionHistory.push({position:h.position.slice?h.position.slice(0):h.position,time:i}),this._eventOutput.emit("update",h),this._prevCoord=[n,o],this._prevTime=i,this._move=!0}}function a(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1,this._positionHistory=[])}function s(t){if(this._down&&this._move&&!this._documentActive){var e=i.bind(this),n=function(t){a.call(this,t),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}.bind(this,t);document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),this._documentActive=!0}}var u=n(208),c=n(209);r.DEFAULT_OPTIONS={clickThreshold:void 0,direction:void 0,rails:!1,scale:1,propogate:!0,velocitySampleLength:10,preventDefault:!0},r.DIRECTION_X=0,r.DIRECTION_Y=1;var l=8;r.prototype.getOptions=function(){return this.options},r.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},t.exports=r},288:function(t,e,n){function r(t){this.options=Object.create(r.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this.setOptions(t),this._eventOutput=new u,this._touchTracker=new s({touchLimit:this.options.touchLimit}),u.setOutputHandler(this,this._eventOutput),u.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",o.bind(this)),this._touchTracker.on("trackmove",i.bind(this)),this._touchTracker.on("trackend",a.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function o(t){var e,n;void 0!==this.options.direction?(this._position=0,e=0,n=0):(this._position=[0,0],e=[0,0],n=[0,0]);var r=this._payload;r.delta=n,r.position=this._position,r.velocity=e,r.clientX=t.x,r.clientY=t.y,r.count=t.count,r.touch=t.identifier,this._eventOutput.emit("start",r)}function i(t){var e=t.history,n=e[e.length-1],o=e[e.length-2],i=e[e.length-this.options.velocitySampleLength]?e[e.length-this.options.velocitySampleLength]:e[e.length-2],a=i.timestamp,s=n.timestamp,u=n.x-o.x,c=n.y-o.y,p=n.x-i.x,f=n.y-i.y;this.options.rails&&(Math.abs(u)>Math.abs(c)?c=0:u=0,Math.abs(p)>Math.abs(f)?f=0:p=0);var h,d,v=Math.max(s-a,l),m=p/v,y=f/v,g=this.options.scale;this.options.direction===r.DIRECTION_X?(d=g*u,h=g*m,this._position+=d):this.options.direction===r.DIRECTION_Y?(d=g*c,h=g*y,this._position+=d):(d=[g*u,g*c],h=[g*m,g*y],this._position[0]+=d[0],this._position[1]+=d[1]);var _=this._payload;_.delta=d,_.velocity=h,_.position=this._position,_.clientX=t.x,_.clientY=t.y,_.count=t.count,_.touch=t.identifier,this._eventOutput.emit("update",_)}function a(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var s=n(348),u=n(208),c=n(209);r.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},r.DIRECTION_X=0,r.DIRECTION_Y=1;var l=8;r.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},r.prototype.getOptions=function(){return this.options},t.exports=r},335:function(t,e,n){function r(t){this.options=Object.create(r.DEFAULT_OPTIONS),t&&this.setOptions(t),this._positionState=new l([0,0]),this._differential=[0,0],this._active=!0,this.sync=new h(["mouse","touch"],{scale:this.options.scale}),this.eventOutput=new p,p.setInputHandler(this,this.sync),p.setOutputHandler(this,this.eventOutput),u.call(this)}function o(t){var e=this.options,n=e.projection,r=e.snapX,o=e.snapY,i=n&m.x?t[0]:0,a=n&m.y?t[1]:0;return r>0&&(i-=i%r),o>0&&(a-=a%o),[i,a]}function i(){this._active&&(this._positionState.isActive()&&this._positionState.halt(),this.eventOutput.emit("start",{position:this.getPosition()}))}function a(t){if(this._active){var e=this.options;this._differential=t.position;var n=o.call(this,this._differential);this._differential[0]-=n[0],this._differential[1]-=n[1];var r=this.getPosition();if(r[0]+=n[0],r[1]+=n[1],e.xRange){var i=[e.xRange[0]+.5*e.snapX,e.xRange[1]-.5*e.snapX];r[0]=y(r[0],i)}if(e.yRange){var a=[e.yRange[0]+.5*e.snapY,e.yRange[1]-.5*e.snapY];r[1]=y(r[1],a)}this.eventOutput.emit("update",{position:r})}}function s(){this._active&&this.eventOutput.emit("end",{position:this.getPosition()})}function u(){this.sync.on("start",i.bind(this)),this.sync.on("update",a.bind(this)),this.sync.on("end",s.bind(this))}var c=n(38),l=n(256),p=n(208),f=n(378),h=n(286),d=n(287),v=n(288);h.register({mouse:d,touch:v});var m={x:1,y:2};r.DIRECTION_X=m.x,r.DIRECTION_Y=m.y;var y=f.clamp;r.DEFAULT_OPTIONS={projection:m.x|m.y,scale:1,xRange:null,yRange:null,snapX:0,snapY:0,transition:{duration:0}},r.prototype.setOptions=function(t){var e=this.options;if(void 0!==t.projection){var n=t.projection;this.options.projection=0,["x","y"].forEach(function(t){-1!==n.indexOf(t)&&(e.projection|=m[t])})}void 0!==t.scale&&(e.scale=t.scale,this.sync.setOptions({scale:t.scale})),void 0!==t.xRange&&(e.xRange=t.xRange),void 0!==t.yRange&&(e.yRange=t.yRange),void 0!==t.snapX&&(e.snapX=t.snapX),void 0!==t.snapY&&(e.snapY=t.snapY)},r.prototype.getPosition=function(){return this._positionState.get()},r.prototype.setRelativePosition=function(t,e,n){var r=this.getPosition(),o=[r[0]+t[0],r[1]+t[1]];this.setPosition(o,e,n)},r.prototype.setPosition=function(t,e,n){this._positionState.isActive()&&this._positionState.halt(),this._positionState.set(t,e,n)},r.prototype.activate=function(){this._active=!0},r.prototype.deactivate=function(){this._active=!1},r.prototype.toggle=function(){this._active=!this._active},r.prototype.modify=function(t){var e=this.getPosition();return{transform:c.translate(e[0],e[1]),target:t}},t.exports=r},348:function(t,e,n){function r(t,e,n){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:e.origin,timestamp:l(),count:e.touches.length,history:n}}function o(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=r(n,t,null);this.eventOutput.emit("trackstart",o),this.selective||this.touchHistory[n.identifier]||this.track(o)}}}function i(t){if(!(t.touches.length>this.touchLimit))for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=this.touchHistory[n.identifier];if(o){var i=r(n,t,o);this.touchHistory[n.identifier].push(i),this.eventOutput.emit("trackmove",i)}}}function a(t){if(this.isTouched){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=this.touchHistory[n.identifier];if(o){var i=r(n,t,o);this.eventOutput.emit("trackend",i),delete this.touchHistory[n.identifier]}}this.isTouched=!1}}function s(){for(var t in this.touchHistory){var e=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:e[e.length-1].touch,timestamp:Date.now(),count:0,history:e}),delete this.touchHistory[t]}}function u(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new c,this.eventOutput=new c,c.setInputHandler(this,this.eventInput),c.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",o.bind(this)),this.eventInput.on("touchmove",i.bind(this)),this.eventInput.on("touchend",a.bind(this)),this.eventInput.on("touchcancel",a.bind(this)),this.eventInput.on("unpipe",s.bind(this)),this.isTouched=!1}var c=n(208),l=Date.now;u.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},t.exports=u},378:function(t){var e={};e.clamp=function(t,e){return Math.max(Math.min(t,e[1]),e[0])},e.length=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]*t[n];return Math.sqrt(e)},t.exports=e}});